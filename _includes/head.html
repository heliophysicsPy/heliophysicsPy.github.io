<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="author" content="Steven D. Christe">
<meta name="description" content="">

<title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>

<!-- CSS -->
<!-- Latest compiled and minified Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
<!-- Custom CSS -->
<link rel="stylesheet" href="{{ "/css/custom.css" | prepend: site.baseurl }}">
<!-- Favicon -->
<link rel="shortcut icon" type="image/png" href="../img/favicon.png">
<link rel="apple-touch-icon" href="../img/favicon.png" type="image/png">

<!-- Javascript -->
<!-- Latest compiled and minified JavaScript -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>

<!-- Project sorting with DataTables-->
<script type="text/javascript" class="init">
    var table1;
    var table2;
    var searchValue1 = '';
    var searchValue2 = '';

    $(document).ready(function() {

        table1 = $('#dataTable1').DataTable({
            "ordering":  true,
            "paging":    false,
            "info":      false,
            "searching": true
        });
        
        table2 = $('#dataTable2').DataTable({
            "ordering":  true,
            "paging":    false,
            "info":      false,
            "searching": true
        });

        // Store value in first table's search box
        $('#dataTable1').on('search.dt', function() {
            var value = $('.dataTables_filter input[aria-controls="dataTable1"]').val();
            searchValue1 = value;
        }); 

        // Store value in second table's search box
        $('#dataTable2').on('search.dt', function() {
            var value = $('.dataTables_filter input[aria-controls="dataTable2"]').val();
            searchValue2 = value;
        }); 
    });

    /*
     * Given the ID of a select drop-down, determine which table it belongs to 
     * by checking if it ends in "1" or "2", then collect all the defined values
     * of the selects for that table and filter the table using them.
     * TODO: Can't use table's built-in input search box. Refactor. Remove console.logs.
     */
    function updateTaxonomyFilters(id) {
        let tableNum = id.slice(-1);
        
        if (!(tableNum == "1" || tableNum == "2")) {
            // Error, exit function
            console.error("Invalid table number found: " + tableNum);
            return;
        }

        let scienceArea = document.getElementById("science_area"+tableNum).value;
        let functionality = document.getElementById("functionality"+tableNum).value;
        let span = document.getElementById("span" + tableNum).value;
        let inputOutputFormats = document.getElementById("input_output_formats"+tableNum).value;
        let inputSources = document.getElementById("input_sources"+tableNum).value;
        let intent = document.getElementById("intent"+tableNum).value;

        let selectValues = [scienceArea, functionality, span, inputOutputFormats, inputSources, intent];
        let filterStr = '';

        switch(tableNum) {
            case "1":
                selectValues.unshift(searchValue1); // prepend first table's search text
                filterStr = selectValues.filter(function (v) { return v !== ''; }).join(' ');
                console.log("------------Filter table 1 with: " + filterStr);
                table1.search(filterStr).draw();
                break;
            case "2":
                selectValues.unshift(searchValue2); // prepend second table's search text
                filterStr = selectValues.filter(function (v) { return v !== ''; }).join(' ');
                console.log("------------Filter table 2 with: " + filterStr);
                table2.search(filterStr).draw();
                break;
        }
    }
</script>

{% seo %}